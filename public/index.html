<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProInvoice | Logistics & Container Invoice Maker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- App Toolbar -->
    <div class="app-toolbar">
        <div class="brand">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
            Logistics Invoice <span>| v1.0</span>
        </div>
        <div class="actions">
            <button class="btn" onclick="app.toggleSidebar()">ðŸ“‚ My Invoices</button>
            <button class="btn" onclick="app.resetInvoice()">Clear / New</button>
            <button class="btn btn-primary" onclick="window.print()">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                Print / PDF
            </button>
        </div>
    </div>

    <div class="main-container">
        <!-- Saved Invoices Sidebar -->
        <div class="sidebar" id="invoiceSidebar">
            <div class="sidebar-header">
                <h3>Saved Invoices</h3>
                <button class="close-btn" onclick="app.toggleSidebar()">&times;</button>
            </div>
            <div id="invoiceList" class="invoice-list">
                <p>Loading...</p>
            </div>
        </div>

        <!-- Main Invoice View -->
        <div class="invoice-paper" id="invoice">
            <!-- Status Area -->
            <div id="saveArea" style="text-align: right; margin-bottom: 15px;">
                <button class="btn btn-success" id="saveBtn" onclick="app.saveInvoice()">ðŸ’¾ Save Invoice</button>
            </div>
            <div id="statusMessage" class="status-bar"></div>

            <!-- Header -->
            <div class="header-sec">
                <div class="logo-area">
                    <textarea id="cName" class="editable-field" rows="2">Global Logistics Ltd.</textarea>
                    <textarea id="cAddr" class="editable-field" rows="2">Port Authority Building&#10;MalÃ©, Maldives</textarea>
                </div>
                <div class="invoice-meta">
                    <h1>INVOICE</h1>
                    <div class="meta-grid">
                        <span class="meta-label">Invoice #</span>
                        <input type="text" id="invNum" class="meta-input" value="INV-2026-001">
                        <span class="meta-label">Date</span>
                        <input type="date" id="invDate" class="meta-input">
                        <span class="meta-label">Due Date</span>
                        <input type="date" id="invDue" class="meta-input">
                    </div>
                </div>
            </div>

            <!-- Addresses -->
            <div class="addresses">
                <div class="addr-col">
                    <div class="addr-title">Bill To</div>
                    <textarea id="billTo" class="editable-field" rows="3">Ocean Trading Co&#10;Attn: Captain Price</textarea>
                </div>
                <div class="addr-col">
                    <div class="addr-title">Delivered Godown</div>
                    <textarea id="deliverTo" class="editable-field" rows="3">Thilafushi Industrial Zone&#10;Zone B, Unit 12</textarea>
                </div>
            </div>

            <!-- Line Items -->
            <table class="items-table">
                <thead>
                    <tr>
                        <th class="col-type">Container Type</th>
                        <th class="col-qty">No. of Containers</th>
                        <th class="col-rate">Unit Price (MVR)</th>
                        <th class="col-total">Total Price</th>
                        <th class="col-action"></th>
                    </tr>
                </thead>
                <tbody id="itemsBody">
                    <!-- Dynamic Rows -->
                </tbody>
            </table>
            <button class="add-row-btn" onclick="app.addRow()">+ Add Container Item</button>

            <!-- Footer / Details -->
            <div class="invoice-footer">
                <div class="top-footer">
                    <div class="notes-area">
                        <div class="addr-title">Notes / Terms</div>
                        <textarea id="notes" class="editable-field" rows="3"></textarea>
                    </div>
                    <div class="totals-area">
                        <div class="totals-row">
                            <span>Subtotal</span>
                            <span id="subtotalDisplay">MVR 0.00</span>
                        </div>
                        <div class="totals-row">
                            <span>Discount (MVR) <input type="number" id="discountVal" value="0" min="0" step="1" oninput="app.calculateTotals()"></span>
                            <span id="discountDisplay">-MVR 0.00</span>
                        </div>
                        <div class="totals-row grand-total">
                            <span>Total Invoice Value</span>
                            <span id="grandTotalDisplay">MVR 0.00</span>
                        </div>
                    </div>
                </div>

                <div class="bottom-details">
                    <div class="addr-title">Sending Bank Account Details</div>
                    <textarea id="bankDetails" class="editable-field" rows="4">Bank of Maldives&#10;Acct: 9876543210&#10;SWIFT: BMDVMV MV</textarea>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
